---
// Assets
import Logo from "@/components/assets/Logo.astro";
// Fundations
import Button from "@/components/fundations/elements/Button.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
//Icons
import Burger from "@/components/fundations/icons/Burger.astro";
import Close from "@/components/fundations/icons/Close.astro";
const navItems = [
  { href: "#features", text: "Features" },
  { href: "#pricing", text: "Pricing" },
  { href: "#faq", text: "Faq" },
];
---

<section class="bg-white">
  <Wrapper variant="standard">
    <div
      class="relative flex flex-col w-full py-2 bg-white md:items-center md:justify-between md:flex-row"
    >
      <div class="flex flex-row items-center justify-between lg:justify-start">
        <a href="/">
          <Logo class="textBase font-medium" />
        </a>
        <button
          id="nav-toggle"
          class="inline-flex items-center justify-center p-2 text-base-400 hover:text-black focus:outline-none focus:text-black md:hidden"
          type="button"
          aria-expanded="false"
        >
          <Burger id="nav-open-icon" size="md" class="inline-flex" />
          <Close id="nav-close-icon" size="md" class="hidden" />
        </button>
      </div>
      <nav
        id="nav-menu"
        class="flex-col items-center flex-grow gap-4 hidden md:flex md:justify-end md:flex-row w-full md:w-fit"
      >
        <div class="flex flex-col md:flex-row items-center gap-4">
          {
            navItems.map((item, index) => (
              <a
                class="text-sm font-medium text-base-600 hover:text-accent-700"
                href={item.href}
              >
                {item.text}
              </a>
            ))
          }
        </div>
        <div class="flex flex-col md:flex-row items-center gap-2">
          <Button
            variant="muted"
            size="sm"
            isLink
            href="/signup"
            class="w-full md:w-fit">Sign up</Button
          >
          <Button
            variant="default"
            size="sm"
            isLink
            href="/login"
            class="w-full md:w-fit"
          >
            Log in</Button
          >
        </div>
      </nav>
    </div>
  </Wrapper>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleButton = document.getElementById("nav-toggle");
    const navMenu = document.getElementById("nav-menu");
    const openIcon = document.getElementById("nav-open-icon");
    const closeIcon = document.getElementById("nav-close-icon");

    if (toggleButton && navMenu && openIcon && closeIcon) {
      toggleButton.addEventListener("click", () => {
        const isHidden = navMenu.classList.contains("hidden");

        if (isHidden) {
          // Open menu
          navMenu.classList.remove("hidden");
          navMenu.classList.add("flex");

          // Show Close icon, Hide Burger
          openIcon.classList.add("hidden");
          openIcon.classList.remove("inline-flex");

          closeIcon.classList.remove("hidden");
          closeIcon.classList.add("inline-flex");

          toggleButton.setAttribute("aria-expanded", "true");
        } else {
          // Close menu
          navMenu.classList.add("hidden");
          navMenu.classList.remove("flex");

          // Show Burger, Hide Close
          openIcon.classList.remove("hidden");
          openIcon.classList.add("inline-flex");

          closeIcon.classList.add("hidden");
          closeIcon.classList.remove("inline-flex");

          toggleButton.setAttribute("aria-expanded", "false");
        }
      });
    }
  });
</script>
